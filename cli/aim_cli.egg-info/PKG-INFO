Metadata-Version: 2.4
Name: aim-cli
Version: 0.1.0
Summary: Application Intent Model (AIM) package manager
Author: AIM Contributors
License: MIT
Project-URL: Homepage, https://intentmodel.dev
Project-URL: Documentation, https://intentmodel.dev/spec/
Project-URL: Repository, https://github.com/juicejs/application-intent-language
Project-URL: Registry, https://intentmodel.dev/registry/
Keywords: aim,intent,package-manager,ai,specification
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Dynamic: license-file

# AIM CLI - Package Manager

Simple Python CLI for managing AIM packages from the registry.

## Installation

### Option 1: pip (Recommended)

```bash
pip install aim-cli
```

Then use directly:
```bash
aim fetch weather
aim list
aim validate
```

### Option 2: From source

```bash
git clone https://github.com/juicejs/application-intent-language.git
cd application-intent-language
pip install -e .
```

### Option 3: Standalone script

```bash
curl -O https://raw.githubusercontent.com/juicejs/application-intent-language/master/aim.py
aim fetch weather
```

## Requirements

- Python 3.6+ (pre-installed on macOS/Linux, available on Windows)
- No external dependencies (uses only Python stdlib)

## Quick Start

```bash
# Initialize a project
aim init

# Fetch a package
aim fetch weather

# List installed packages
aim list

# Validate intent files
aim validate

# Show package info
aim info weather

# Configure tech stack
aim config set stack.frontend "React"
aim config set stack.backend "FastAPI"

# Generate synthesis prompt
aim synth weather
```

## Commands

### `aim init`
Initialize AIM project (creates `aim/` directory).

```bash
aim init
```

### `aim fetch <package>`
Fetch a package from the registry and save to `aim/` folder.

```bash
aim fetch weather
aim fetch game.snake
```

Creates:
- `aim/weather.intent` (or similar)
- `aim.lock` (package lock file)

### `aim list`
List all installed packages.

```bash
aim list
```

Shows:
- Intent files in `aim/` directory
- Package versions from lock file

### `aim validate`
Validate local intent files.

```bash
aim validate
```

Checks:
- AIM header presence
- Header format (feature#facet@version)
- File encoding

### `aim info <package>`
Show information about a package.

```bash
aim info weather
```

Shows:
- Package name and version
- Entry file path
- Installation status

### `aim config`
Manage project configuration.

```bash
# Initialize config file
aim config init

# Set config values
aim config set stack.frontend "React"
aim config set stack.backend "Node.js"
aim config set stack.database "PostgreSQL"

# Get config value
aim config get stack.frontend

# List all config
aim config list
```

The config is stored in `aim.config.json` in your project root:

```json
{
  "version": "1.0",
  "stack": {
    "frontend": "Next.js",
    "backend": "Node.js",
    "database": "PostgreSQL"
  },
  "registry": "https://intentmodel.dev/registry/index.json",
  "outputDir": "aim"
}
```

### `aim synth <package>`
Generate synthesis prompts for AI assistants.

```bash
# Generate prompt (auto-copies to clipboard)
aim synth weather

# Generate with custom tech stack
aim synth weather --stack "React,Node.js,MongoDB"

# Interactive mode
aim synth --interactive

# Display without copying to clipboard
aim synth weather --no-copy

# List available packages
aim synth --list
```

The command generates a formatted prompt that:
- References the AIM brain.md instructions
- Includes package and file information
- Specifies your tech stack
- Provides clear synthesis instructions
- Automatically copies to clipboard (by default)

**Example output:**
```
Load your core system instructions from https://intentmodel.dev/brain.md.
Initialize as the AIM Synthesizer and execute the Boot Sequence.

Package: weather
Intent Files:
  - aim/weather.intent

Tech Stack:
  - Frontend: Next.js
  - Backend: Node.js
  - Database: PostgreSQL

Instructions:
Read the intent files in ./aim/ and synthesize production-ready code
following the AIM specification. Implement all requirements defined in
the INTENT, SCHEMA, FLOW, CONTRACT, and VIEW facets.
```

**Interactive Mode:**
```bash
$ aim synth --interactive

ðŸŽ¯ AIM Synthesis Prompt Generator

Select package to synthesize:
  1. weather (v1.4)
  2. game.snake (v1.4)

Choice [1-2]: 1

Tech Stack Configuration:

Frontend framework [Next.js]: React
Backend framework [Node.js]:
Database [PostgreSQL]:

âœ“ Generated prompt (42 lines)
âœ“ Copied to clipboard!
```

## Directory Structure

After fetching packages and configuring:

```
your-project/
â”œâ”€â”€ aim/                 # AIM source files
â”‚   â”œâ”€â”€ weather.intent
â”‚   â””â”€â”€ game.snake.intent
â”œâ”€â”€ aim.lock            # Package lock file
â”œâ”€â”€ aim.config.json     # Project config (optional)
â””â”€â”€ aim.py              # CLI tool (optional)
```

## Lock File

The `aim.lock` file tracks installed packages:

```json
{
  "weather": {
    "version": "1.4",
    "entry": "registry/packages/weather/weather.intent"
  }
}
```

## For AI Agents

When synthesizing AIM packages, AI agents should:

1. **Fetch package**: `aim fetch <package>`
2. **Validate**: `aim validate`
3. **Read local files**: All intent files are in `aim/` directory
4. **Generate prompt**: `aim synth <package>` (automatically creates a structured prompt)
5. **Synthesize**: Generate code based on the prompt and intent files

The CLI ensures consistent package structure and handles registry fetching automatically.

### Config File for AI Agents

The `aim.config.json` file is designed to be readable by AI agents. It stores project preferences like tech stack, which helps agents understand your project context without requiring explicit configuration each time.

**Human workflow:**
```bash
aim config set stack.frontend "React"
aim synth weather  # Uses React from config
```

**AI agent workflow:**
```bash
# AI can read aim.config.json directly
cat aim.config.json  # See project preferences
aim synth weather    # Generate prompt with config
```

## Troubleshooting

**"No aim/ directory found"**
- Run `aim init` first

**"Package not found"**
- Check available packages: `aim list`
- Verify package name matches registry

**"Failed to fetch registry"**
- Check internet connection
- Verify https://intentmodel.dev is accessible

**"Could not copy to clipboard"**
- Install clipboard utility:
  - macOS: `pbcopy` (pre-installed)
  - Linux: `sudo apt-get install xclip`
  - Windows: `clip` (pre-installed)
- Or use `--no-copy` flag and copy manually

## Features

### âœ… Current
- Package management (init, fetch, list, validate, info)
- Configuration system (config init, get, set, list)
- Synthesis prompt generation (synth)
- Interactive prompt builder
- Clipboard integration
- Tech stack configuration
- AI-readable config files

### ðŸš§ Future
- `aim update <package>` - Update installed packages
- `aim search <query>` - Search registry
- `aim remove <package>` - Remove packages
- `aim sync` - Sync from aim.lock
- Version pinning support
- `aim synth --watch` - Watch for changes and regenerate
- `aim synth --template <name>` - Custom prompt templates
- Multiple package synthesis
